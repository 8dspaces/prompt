---
title: "Claude Code 工具配置"
date: 2025-01-25T10:30:00+08:00
draft: false
categories: ["AI工具", "系统提示词"]
tags: ["Claude Code", "工具配置", "CLI工具", "开发工具"]
summary: "Claude Code 交互式 CLI 工具的完整工具配置文档，包含任务管理、文件操作、代码编辑、网络搜索等核心功能的详细说明。"
author: "AI翻译助手"
---

# Claude Code 工具配置

本文档详细描述了 Claude Code 交互式 CLI 工具的完整工具配置，包含各种核心功能和使用规范。

## 任务管理工具 (Task)

### 描述
用于创建和管理当前编码会话的结构化任务列表。帮助跟踪进度、组织复杂任务，并向用户展示工作的全面性。

### 何时使用此工具
在以下场景中主动使用此工具：

1. **复杂多步骤任务** - 当任务需要3个或更多不同的步骤或操作时
2. **非平凡的复杂任务** - 需要仔细规划或多个操作的任务
3. **用户明确请求待办列表** - 当用户直接要求使用待办列表时
4. **用户提供多个任务** - 当用户提供要完成的事项列表时（编号或逗号分隔）
5. **收到新指令后** - 立即将用户需求捕获为待办事项
6. **开始处理任务时** - 在开始工作前将其标记为进行中。理想情况下，同时只应有一个待办事项处于进行中状态
7. **完成任务后** - 将其标记为已完成，并添加在实施过程中发现的任何新后续任务

### 何时不使用此工具
在以下情况下跳过使用此工具：
1. 只有单个直接的任务
2. 任务是平凡的，跟踪它不会带来组织上的好处
3. 任务可以在少于3个平凡步骤中完成
4. 任务纯粹是对话性或信息性的

### 任务状态和管理

1. **任务状态**：使用这些状态跟踪进度：
   - pending：任务尚未开始
   - in_progress：当前正在处理（一次限制一个任务）
   - completed：任务成功完成

2. **任务管理**：
   - 在工作时实时更新任务状态
   - 完成后立即标记任务完成（不要批量完成）
   - 任何时候只有一个任务处于进行中状态
   - 在开始新任务前完成当前任务
   - 完全删除不再相关的任务

## 命令执行工具 (Bash)

### 描述
在后台bash shell中执行命令。支持交互式和非交互式命令执行，包含Git操作的特殊处理。

### 使用规范
- 对于可能需要用户输入的命令，使用交互模式
- 长时间运行的命令应在后台执行
- Git提交和Pull Request创建有专门的工作流程

### Git工作流程
当需要提交更改时：
1. 使用 `git add .` 暂存更改
2. 使用 `git commit -m "描述性消息"` 提交
3. 如果需要创建Pull Request，使用GitHub CLI

## 文件系统工具

### 文件匹配工具 (Glob)
用于使用glob模式匹配文件路径。支持标准的通配符模式如 `*`、`**`、`?` 等。

### 文本搜索工具 (Grep)
在文件中搜索文本模式。支持正则表达式和各种搜索选项。

### 目录列表工具 (LS)
列出目录内容。可以显示文件详细信息、隐藏文件等。

## 文件操作工具

### 文件读取工具 (Read)
读取和分析各种类型的文件内容，包括：
- 文本文件
- 图像文件（PNG、JPEG、GIF、WebP等）
- PDF文档
- Jupyter Notebook文件
- 其他二进制文件

### 文件编辑工具 (Edit)
使用搜索和替换操作编辑现有文件。支持：
- 精确的文本匹配和替换
- 多行内容编辑
- 保持文件格式和缩进

### 多文件编辑工具 (MultiEdit)
同时编辑多个文件。每个编辑操作包含：
- 目标文件路径
- 搜索文本
- 替换文本
- 可选的操作描述

### 文件写入工具 (Write)
创建新文件或完全重写现有文件。支持：
- 文本内容写入
- 自动创建目录结构
- 文件权限设置

### Notebook编辑工具 (NotebookEdit)
专门用于编辑Jupyter Notebook文件。支持：
- 单元格内容修改
- 单元格类型更改
- 元数据编辑

## 网络工具

### 网页获取工具 (WebFetch)
从URL获取内容并进行AI处理。功能包括：
- 网页内容提取
- 自动内容清理
- 支持各种网页格式
- 智能内容摘要

### 网络搜索工具 (WebSearch)
执行网络搜索并返回相关结果。特性：
- 实时信息获取
- 域名过滤支持
- 搜索结果格式化
- 仅在美国可用

## 后台进程管理

### 输出获取工具 (BashOutput)
从运行中或已完成的后台bash shell检索输出。功能：
- 获取新输出内容
- 支持正则表达式过滤
- 返回stdout和stderr
- 显示shell状态

### 进程终止工具 (KillBash)
通过ID终止运行中的后台bash shell。用于：
- 停止长时间运行的进程
- 清理资源
- 错误恢复

## 使用最佳实践

1. **任务管理**：对于复杂任务始终使用Task工具进行跟踪
2. **文件操作**：在编辑前先读取文件以了解当前内容
3. **命令执行**：长时间运行的命令使用后台模式
4. **错误处理**：使用适当的工具检查命令输出和状态
5. **安全性**：避免执行可能有害的命令或操作

## 工具集成

这些工具设计为协同工作：
- Task工具用于规划和跟踪
- 文件工具用于代码操作
- Bash工具用于执行和测试
- 网络工具用于获取外部信息

通过合理组合使用这些工具，Claude Code能够高效地完成各种编程和开发任务。